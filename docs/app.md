# 月ウサギのそだてかた 攻略サイト

## 概要

「月ウサギのそだてかた」の武器合成の計画とガチャ分析ができるWebアプリケーションです。
目標の武器を作るのに何日かかるか、ガチャを何回引けばいいかを計算できます。
完全レスポンシブ対応で、スマートフォンからも快適に利用可能です。

## 技術スタック

- **Astro 5**: フレームワーク
- **React 19**: UIコンポーネント
- **Tailwind CSS 4**: スタイリング
- **TypeScript**: 型安全な開発

## 主要機能

### 1. 武器図鑑 (`/weapons`)

全武器のレア度とドラバス（L1）換算の必要本数を一覧表示します。

**機能:**
- レア度別の武器一覧（Star, Galaxy, Universe）
- 基準武器（L1等）に対する必要本数の計算
- レスポンシブなグリッドレイアウト

**コンポーネント:** `components/weapons/WeaponCatalog.tsx`

### 2. 目標計算 (`/weapons/goal`)

作りたい武器と手持ち武器を入力して、目標達成までに必要な日数を計算します。

**機能:**
- **目標設定**: 目標武器の選択（レジェンド最上級 L1 以上のみ）、目標本数の設定
- **手持ち武器**: ティアごとのアコーディオン式入力、全レア度の所持数入力
- **達成予測設定**: 1日の獲得数（レジェンド最上級換算）の設定
- **結果表示**: 必要総数、所持数、不足数（全てL1換算）、達成予定日と進捗率の可視化

**コンポーネント:** `components/weapons/GoalCalculator.tsx`

### 3. ガチャ分析 (`/weapons/gacha`)

ガチャN回で何の武器が作れるかを分析し、G1やU4までの道のりを可視化します。

**機能:**
- **シミュレーション設定**: ガチャレベル（Lv.8〜14）、ガチャ回数（プリセット選択または任意入力）
- **分析結果**: 消費ルビーの概算、獲得できる「レジェンド最上級」の総換算数、合成後に獲得できる最高レアリティ武器
- **詳細**: 最終的に合成して入手できる武器一覧、各レア度の排出確率テーブル

**コンポーネント:** `components/weapons/GachaAnalyzer.tsx`

### 4. ホーム (`/`)

各ツールへのナビゲーションを表示します。

**機能:**
- サイト説明
- ツールカード（各ページへのリンク）
- モバイル対応スライドメニュー（全ページ共通レイアウト）

## 用語集

### 基本用語

- **ドラバス**: L1（ドラゴンブレス バズーカ）の略称。合成の基準となる武器
- **レア度**: 武器の希少度。Legend → Star → Galaxy → Universe の順に高くなる
- **ティア**: レア度の大分類（Legend, Star, Galaxy, Universe）
- **レベル**: 各ティア内での段階（4, 3, 2, 1）

### レア度表記

- **L4〜L1**: Legend（レジェンド）
- **S4〜S1**: Star（スター）
- **G4〜G1**: Galaxy（ギャラクシー）
- **U4**: Universe（ユニバース）

### レア度の見方

- **X4**: 下級（最も低いランク）
- **X3**: 中級
- **X2**: 上級
- **X1**: 最上級（各ティアで最も高いランク）

## 開発コマンド

```bash
# 依存関係のインストール
npm install

# 開発サーバー起動（localhost:4321）
npm run dev

# 本番ビルド
npm run build

# ビルドのプレビュー
npm run preview
```

## プロジェクト構成

```
/
├── src/
│   ├── components/
│   │   ├── ui/                    # 共通UIコンポーネント
│   │   │   ├── SummaryCard.tsx    # 統計カード
│   │   │   ├── WeaponCard.tsx     # 武器表示カード
│   │   │   └── index.ts
│   │   └── weapons/               # 武器関連コンポーネント
│   │       ├── GachaAnalyzer.tsx  # ガチャ分析
│   │       ├── GoalCalculator.tsx # 目標計算
│   │       ├── WeaponCatalog.tsx  # 武器図鑑
│   │       └── index.ts
│   ├── lib/
│   │   └── weapons/               # 武器データ（単一ソース）
│   │       ├── types.ts           # 武器定義、合成ルール、型
│   │       ├── gacha.ts           # ガチャ確率データ
│   │       ├── images.ts          # 武器画像インポート
│   │       ├── constants.ts       # 定数（色、名前）
│   │       ├── data.ts            # 武器一覧生成
│   │       ├── synthesis.ts       # 合成ロジック
│   │       ├── utils.ts           # ユーティリティ関数
│   │       └── index.ts           # re-export
│   ├── utils/
│   │   └── expectationCalculator.ts  # ガチャ期待値計算
│   ├── layouts/
│   │   └── Layout.astro           # 共通レイアウト
│   ├── pages/
│   │   ├── index.astro            # ホーム
│   │   └── weapons/
│   │       ├── index.astro        # 武器図鑑
│   │       ├── goal.astro         # 目標計算
│   │       └── gacha.astro        # ガチャ分析
│   ├── assets/                    # 武器画像
│   ├── styles/
│   │   └── global.css             # グローバルスタイル
│   └── types/
│       └── index.ts               # 型re-export
├── docs/                          # ドキュメント
│   ├── app.md                     # このファイル
│   ├── weapon.md                  # 武器一覧
│   ├── synthesis.md               # 合成システム
│   └── gacha.md                   # ガチャ確率
├── CLAUDE.md                      # Claude用プロジェクト説明
└── package.json
```

## 関連ドキュメント

- [武器一覧](./weapon.md) - 全武器のレア度とドラバス換算値
- [合成システム](./synthesis.md) - 武器合成のルールと必要素材数
- [ガチャ確率](./gacha.md) - レベル別のガチャ排出確率
